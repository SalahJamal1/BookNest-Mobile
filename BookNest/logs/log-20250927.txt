2025-09-27 20:47:29.193 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='book_nest' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-27 20:47:29.219 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='book_nest' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-27 20:47:29.229 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-09-27 20:47:29.235 +03:00 [INF] Applying migration '20250927174723_initial'.
2025-09-27 20:47:29.291 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2025-09-27 20:47:29.298 +03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetRoles` (
    `Id` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `Name` varchar(256) CHARACTER SET utf8mb4 NULL,
    `NormalizedName` varchar(256) CHARACTER SET utf8mb4 NULL,
    `ConcurrencyStamp` longtext CHARACTER SET utf8mb4 NULL,
    CONSTRAINT `PK_AspNetRoles` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-09-27 20:47:41.419 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE `book_nest`;
2025-09-27 20:47:41.500 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `__EFMigrationsHistory` (
    `MigrationId` varchar(150) CHARACTER SET utf8mb4 NOT NULL,
    `ProductVersion` varchar(32) CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK___EFMigrationsHistory` PRIMARY KEY (`MigrationId`)
) CHARACTER SET=utf8mb4;
2025-09-27 20:47:41.513 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='book_nest' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-27 20:47:41.517 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-09-27 20:47:41.522 +03:00 [INF] Applying migration '20250927174723_initial'.
2025-09-27 20:47:41.548 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2025-09-27 20:47:41.554 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetRoles` (
    `Id` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `Name` varchar(256) CHARACTER SET utf8mb4 NULL,
    `NormalizedName` varchar(256) CHARACTER SET utf8mb4 NULL,
    `ConcurrencyStamp` longtext CHARACTER SET utf8mb4 NULL,
    CONSTRAINT `PK_AspNetRoles` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-09-27 20:47:41.563 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetUsers` (
    `Id` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `firstName` longtext CHARACTER SET utf8mb4 NOT NULL,
    `lastName` longtext CHARACTER SET utf8mb4 NOT NULL,
    `createdAt` datetime(6) NOT NULL,
    `UserName` varchar(256) CHARACTER SET utf8mb4 NULL,
    `NormalizedUserName` varchar(256) CHARACTER SET utf8mb4 NULL,
    `Email` varchar(256) CHARACTER SET utf8mb4 NULL,
    `NormalizedEmail` varchar(256) CHARACTER SET utf8mb4 NULL,
    `EmailConfirmed` tinyint(1) NOT NULL,
    `PasswordHash` longtext CHARACTER SET utf8mb4 NULL,
    `SecurityStamp` longtext CHARACTER SET utf8mb4 NULL,
    `ConcurrencyStamp` longtext CHARACTER SET utf8mb4 NULL,
    `PhoneNumber` longtext CHARACTER SET utf8mb4 NULL,
    `PhoneNumberConfirmed` tinyint(1) NOT NULL,
    `TwoFactorEnabled` tinyint(1) NOT NULL,
    `LockoutEnd` datetime(6) NULL,
    `LockoutEnabled` tinyint(1) NOT NULL,
    `AccessFailedCount` int NOT NULL,
    CONSTRAINT `PK_AspNetUsers` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-09-27 20:47:41.569 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Cabins` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `MaxCapacity` int NOT NULL,
    `RegularPrice` decimal(6,2) NOT NULL,
    `Discount` decimal(6,2) NOT NULL,
    `Image` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Description` longtext CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK_Cabins` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-09-27 20:47:41.575 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetRoleClaims` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `RoleId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `ClaimType` longtext CHARACTER SET utf8mb4 NULL,
    `ClaimValue` longtext CHARACTER SET utf8mb4 NULL,
    CONSTRAINT `PK_AspNetRoleClaims` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_AspNetRoleClaims_AspNetRoles_RoleId` FOREIGN KEY (`RoleId`) REFERENCES `AspNetRoles` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-09-27 20:47:41.580 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetUserClaims` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `UserId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `ClaimType` longtext CHARACTER SET utf8mb4 NULL,
    `ClaimValue` longtext CHARACTER SET utf8mb4 NULL,
    CONSTRAINT `PK_AspNetUserClaims` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_AspNetUserClaims_AspNetUsers_UserId` FOREIGN KEY (`UserId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-09-27 20:47:41.584 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetUserLogins` (
    `LoginProvider` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `ProviderKey` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `ProviderDisplayName` longtext CHARACTER SET utf8mb4 NULL,
    `UserId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK_AspNetUserLogins` PRIMARY KEY (`LoginProvider`, `ProviderKey`),
    CONSTRAINT `FK_AspNetUserLogins_AspNetUsers_UserId` FOREIGN KEY (`UserId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-09-27 20:47:41.588 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetUserRoles` (
    `UserId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `RoleId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK_AspNetUserRoles` PRIMARY KEY (`UserId`, `RoleId`),
    CONSTRAINT `FK_AspNetUserRoles_AspNetRoles_RoleId` FOREIGN KEY (`RoleId`) REFERENCES `AspNetRoles` (`Id`) ON DELETE CASCADE,
    CONSTRAINT `FK_AspNetUserRoles_AspNetUsers_UserId` FOREIGN KEY (`UserId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-09-27 20:47:41.592 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetUserTokens` (
    `UserId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `LoginProvider` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `Name` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `Value` longtext CHARACTER SET utf8mb4 NULL,
    CONSTRAINT `PK_AspNetUserTokens` PRIMARY KEY (`UserId`, `LoginProvider`, `Name`),
    CONSTRAINT `FK_AspNetUserTokens_AspNetUsers_UserId` FOREIGN KEY (`UserId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-09-27 20:47:41.597 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Tokens` (
    `id` int NOT NULL AUTO_INCREMENT,
    `Access_token` longtext CHARACTER SET utf8mb4 NULL,
    `Refresh_token` longtext CHARACTER SET utf8mb4 NULL,
    `Token_type` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `Expire` tinyint(1) NOT NULL,
    `Revoke` tinyint(1) NOT NULL,
    `DeviceId` longtext CHARACTER SET utf8mb4 NOT NULL,
    `UserId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `CreatedAt` datetime(6) NOT NULL,
    CONSTRAINT `PK_Tokens` PRIMARY KEY (`id`),
    CONSTRAINT `FK_Tokens_AspNetUsers_UserId` FOREIGN KEY (`UserId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-09-27 20:47:41.602 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Bookings` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `CabinId` int NOT NULL,
    `UserId` varchar(255) CHARACTER SET utf8mb4 NULL,
    `CreatedAt` datetime(6) NULL,
    `EndAt` datetime(6) NOT NULL,
    `StartDate` datetime(6) NOT NULL,
    `HasBreakfast` tinyint(1) NULL,
    `IsPaid` tinyint(1) NULL,
    `NumGuests` int NOT NULL,
    `NumNights` int NOT NULL,
    `TotalPrice` decimal(6,2) NOT NULL,
    `Observations` longtext CHARACTER SET utf8mb4 NULL,
    CONSTRAINT `PK_Bookings` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Bookings_AspNetUsers_UserId` FOREIGN KEY (`UserId`) REFERENCES `AspNetUsers` (`Id`),
    CONSTRAINT `FK_Bookings_Cabins_CabinId` FOREIGN KEY (`CabinId`) REFERENCES `Cabins` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-09-27 20:47:41.604 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetRoles` (`Id`, `ConcurrencyStamp`, `Name`, `NormalizedName`)
VALUES ('22e07c03-6af2-44fd-90ed-5368f5b9c9c1', NULL, 'User', 'USER'),
('5f6f2045-1f9e-438c-a434-36d4ab7fca30', NULL, 'Manager', 'MANAGER'),
('e95a31b4-b539-469e-9635-aa0f70e8dce4', NULL, 'Admin', 'ADMIN');
2025-09-27 20:47:41.612 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_AspNetRoleClaims_RoleId` ON `AspNetRoleClaims` (`RoleId`);
2025-09-27 20:47:41.622 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX `RoleNameIndex` ON `AspNetRoles` (`NormalizedName`);
2025-09-27 20:47:41.626 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_AspNetUserClaims_UserId` ON `AspNetUserClaims` (`UserId`);
2025-09-27 20:47:41.630 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_AspNetUserLogins_UserId` ON `AspNetUserLogins` (`UserId`);
2025-09-27 20:47:41.633 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_AspNetUserRoles_RoleId` ON `AspNetUserRoles` (`RoleId`);
2025-09-27 20:47:41.641 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `EmailIndex` ON `AspNetUsers` (`NormalizedEmail`);
2025-09-27 20:47:41.651 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX `IX_AspNetUsers_Email` ON `AspNetUsers` (`Email`);
2025-09-27 20:47:41.660 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX `UserNameIndex` ON `AspNetUsers` (`NormalizedUserName`);
2025-09-27 20:47:41.663 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Bookings_CabinId` ON `Bookings` (`CabinId`);
2025-09-27 20:47:41.667 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Bookings_UserId` ON `Bookings` (`UserId`);
2025-09-27 20:47:41.671 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX `IX_Cabins_Name` ON `Cabins` (`Name`);
2025-09-27 20:47:41.674 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Tokens_UserId` ON `Tokens` (`UserId`);
2025-09-27 20:47:41.675 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20250927174723_initial', '8.0.18');
2025-09-27 20:47:54.062 +03:00 [INF] User profile is available. Using '/Users/salah/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-09-27 20:47:54.123 +03:00 [INF] Now listening on: http://0.0.0.0:5208
2025-09-27 20:47:54.124 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-27 20:47:54.124 +03:00 [INF] Hosting environment: Development
2025-09-27 20:47:54.124 +03:00 [INF] Content root path: /Users/salah/RiderProjects/BookNest/BookNest
2025-09-27 20:47:54.786 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5208/swagger/index.html - null null
2025-09-27 20:47:54.932 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5208/swagger/index.html - 200 null text/html;charset=utf-8 145.7247ms
2025-09-27 20:47:55.046 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5208/swagger/v1/swagger.json - null null
2025-09-27 20:47:55.150 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5208/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 104.8863ms
2025-09-27 20:47:59.262 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5208/api/v1/Cabins - null null
2025-09-27 20:47:59.271 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-27 20:47:59.300 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-09-27 20:47:59.323 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-09-27 20:47:59.500 +03:00 [INF] Executing action method BookNest.Controllers.CabinsController.Get (BookNest) - Validation state: "Valid"
2025-09-27 20:48:00.139 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-09-27 20:48:00.212 +03:00 [INF] Executed action method BookNest.Controllers.CabinsController.Get (BookNest), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 709.4432ms.
2025-09-27 20:48:00.221 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-27 20:48:00.292 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 965.4882ms
2025-09-27 20:48:00.292 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-09-27 20:48:00.303 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5208/api/v1/Cabins - 200 null application/json; charset=utf-8 1041.0445ms
2025-09-27 20:48:23.840 +03:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.10:5208/api/v1/cabins - null null
2025-09-27 20:48:23.870 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-09-27 20:48:23.881 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-09-27 20:48:24.026 +03:00 [INF] Executing action method BookNest.Controllers.CabinsController.Get (BookNest) - Validation state: "Valid"
2025-09-27 20:48:24.122 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-09-27 20:48:24.123 +03:00 [INF] Executed action method BookNest.Controllers.CabinsController.Get (BookNest), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 96.6886ms.
2025-09-27 20:48:24.124 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-27 20:48:24.126 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 245.3802ms
2025-09-27 20:48:24.126 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-09-27 20:48:24.127 +03:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.10:5208/api/v1/cabins - 200 null application/json; charset=utf-8 288.2077ms
2025-09-27 20:48:29.112 +03:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.10:5208/api/v1/cabins/5 - null null
2025-09-27 20:48:29.116 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-09-27 20:48:29.128 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookNest.Data.Cabin]] Get(Int32) on controller BookNest.Controllers.CabinsController (BookNest).
2025-09-27 20:48:29.189 +03:00 [INF] Executing action method BookNest.Controllers.CabinsController.Get (BookNest) - Validation state: "Valid"
2025-09-27 20:48:29.296 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-09-27 20:48:29.297 +03:00 [INF] Executed action method BookNest.Controllers.CabinsController.Get (BookNest), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 108.4636ms.
2025-09-27 20:48:29.298 +03:00 [INF] Executing OkObjectResult, writing value of type 'BookNest.Data.Cabin'.
2025-09-27 20:48:29.298 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 169.6585ms
2025-09-27 20:48:29.298 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-09-27 20:48:29.298 +03:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.10:5208/api/v1/cabins/5 - 200 null application/json; charset=utf-8 185.5844ms
2025-09-27 20:48:42.767 +03:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.10:5208/api/v1/auth/login - application/json 51
2025-09-27 20:48:42.771 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.Login (BookNest)'
2025-09-27 20:48:42.779 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] Login(BookNest.Models.users.AuthLogin) on controller BookNest.Controllers.AuthController (BookNest).
2025-09-27 20:48:42.933 +03:00 [INF] Executing action method BookNest.Controllers.AuthController.Login (BookNest) - Validation state: "Valid"
2025-09-27 20:48:43.082 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__authLogin_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Email` = @__authLogin_Email_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-09-27 20:48:43.085 +03:00 [INF] Executed action BookNest.Controllers.AuthController.Login (BookNest) in 305.6617ms
2025-09-27 20:48:43.085 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.Login (BookNest)'
2025-09-27 20:48:43.087 +03:00 [ERR] Something went wrong on Path /api/v1/auth/login
BookNest.Exceptions.AppErrorResponse: Invalid username or password
   at BookNest.Repository.AuthManager.Login(AuthLogin authLogin) in /Users/salah/RiderProjects/BookNest/BookNest/Repository/AuthManager.cs:line 70
   at BookNest.Controllers.AuthController.Login(AuthLogin authLogin) in /Users/salah/RiderProjects/BookNest/BookNest/Controllers/AuthController.cs:line 23
   at lambda_method98(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in /Users/salah/RiderProjects/BookNest/BookNest/Program.cs:line 133
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookNest.MiddleWare.ExceptionMiddleWare.InvokeAsync(HttpContext _context) in /Users/salah/RiderProjects/BookNest/BookNest/MiddleWare/ExceptionMiddleWare.cs:line 21
2025-09-27 20:48:43.129 +03:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.10:5208/api/v1/auth/login - 404 null application/json; charset=utf-8 362.1694ms
2025-09-27 20:49:11.974 +03:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.10:5208/api/v1/auth/signup - application/json 118
2025-09-27 20:49:11.978 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.sigup (BookNest)'
2025-09-27 20:49:11.983 +03:00 [INF] Route matched with {action = "sigup", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] sigup(BookNest.Models.users.AuthRegister) on controller BookNest.Controllers.AuthController (BookNest).
2025-09-27 20:49:12.071 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-27 20:49:12.085 +03:00 [INF] Executed action BookNest.Controllers.AuthController.sigup (BookNest) in 101.6045ms
2025-09-27 20:49:12.085 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.sigup (BookNest)'
2025-09-27 20:49:12.085 +03:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.10:5208/api/v1/auth/signup - 400 null application/problem+json; charset=utf-8 111.0234ms
2025-09-27 20:49:24.068 +03:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.10:5208/api/v1/auth/signup - application/json 119
2025-09-27 20:49:24.070 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.sigup (BookNest)'
2025-09-27 20:49:24.070 +03:00 [INF] Route matched with {action = "sigup", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] sigup(BookNest.Models.users.AuthRegister) on controller BookNest.Controllers.AuthController (BookNest).
2025-09-27 20:49:24.090 +03:00 [INF] Executing action method BookNest.Controllers.AuthController.sigup (BookNest) - Validation state: "Valid"
2025-09-27 20:49:24.184 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1
2025-09-27 20:49:24.319 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256), @p15='?' (DbType = DateTime), @p16='?' (Size = 4000), @p17='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `ConcurrencyStamp`, `Email`, `EmailConfirmed`, `LockoutEnabled`, `LockoutEnd`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`, `createdAt`, `firstName`, `lastName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-09-27 20:49:24.339 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-09-27 20:49:24.361 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-09-27 20:49:24.369 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-09-27 20:49:24.381 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1
2025-09-27 20:49:24.409 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p19='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p20='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = DateTime), @p17='?' (Size = 4000), @p18='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `ConcurrencyStamp` = @p3, `Email` = @p4, `EmailConfirmed` = @p5, `LockoutEnabled` = @p6, `LockoutEnd` = @p7, `NormalizedEmail` = @p8, `NormalizedUserName` = @p9, `PasswordHash` = @p10, `PhoneNumber` = @p11, `PhoneNumberConfirmed` = @p12, `SecurityStamp` = @p13, `TwoFactorEnabled` = @p14, `UserName` = @p15, `createdAt` = @p16, `firstName` = @p17, `lastName` = @p18
WHERE `Id` = @p19 AND `ConcurrencyStamp` = @p20;
SELECT ROW_COUNT();
2025-09-27 20:49:24.430 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-09-27 20:49:24.439 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-09-27 20:49:24.457 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-09-27 20:49:24.458 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-09-27 20:49:24.499 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-09-27 20:49:24.513 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-09-27 20:49:24.514 +03:00 [INF] Executed action method BookNest.Controllers.AuthController.sigup (BookNest), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 423.8895ms.
2025-09-27 20:49:24.515 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-09-27 20:49:24.526 +03:00 [INF] Executed action BookNest.Controllers.AuthController.sigup (BookNest) in 455.9258ms
2025-09-27 20:49:24.526 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.sigup (BookNest)'
2025-09-27 20:49:24.526 +03:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.10:5208/api/v1/auth/signup - 200 null application/json; charset=utf-8 459.3062ms
2025-09-27 20:49:40.162 +03:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.10:5208/api/v1/auth/login - application/json 51
2025-09-27 20:49:40.163 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.Login (BookNest)'
2025-09-27 20:49:40.163 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] Login(BookNest.Models.users.AuthLogin) on controller BookNest.Controllers.AuthController (BookNest).
2025-09-27 20:49:40.186 +03:00 [INF] Executing action method BookNest.Controllers.AuthController.Login (BookNest) - Validation state: "Valid"
2025-09-27 20:49:40.202 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__authLogin_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Email` = @__authLogin_Email_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-09-27 20:49:40.255 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-09-27 20:49:40.258 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-09-27 20:49:40.259 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-09-27 20:49:40.261 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-09-27 20:49:40.276 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-09-27 20:49:40.286 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-09-27 20:49:40.290 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-09-27 20:49:40.307 +03:00 [INF] Executed action method BookNest.Controllers.AuthController.Login (BookNest), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 120.7742ms.
2025-09-27 20:49:40.307 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-09-27 20:49:40.308 +03:00 [INF] Executed action BookNest.Controllers.AuthController.Login (BookNest) in 139.8186ms
2025-09-27 20:49:40.308 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.Login (BookNest)'
2025-09-27 20:49:40.308 +03:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.10:5208/api/v1/auth/login - 200 null application/json; charset=utf-8 145.709ms
2025-09-27 20:49:44.755 +03:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.10:5208/api/v1/cabins/3 - null null
2025-09-27 20:49:44.785 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-09-27 20:49:44.786 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookNest.Data.Cabin]] Get(Int32) on controller BookNest.Controllers.CabinsController (BookNest).
2025-09-27 20:49:44.802 +03:00 [INF] Executing action method BookNest.Controllers.CabinsController.Get (BookNest) - Validation state: "Valid"
2025-09-27 20:49:44.806 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-09-27 20:49:44.806 +03:00 [INF] Executed action method BookNest.Controllers.CabinsController.Get (BookNest), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.4437ms.
2025-09-27 20:49:44.806 +03:00 [INF] Executing OkObjectResult, writing value of type 'BookNest.Data.Cabin'.
2025-09-27 20:49:44.806 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 20.7995ms
2025-09-27 20:49:44.806 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-09-27 20:49:44.807 +03:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.10:5208/api/v1/cabins/3 - 200 null application/json; charset=utf-8 51.417ms
2025-09-27 20:49:54.761 +03:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.10:5208/api/v1/bookings?cabinId=3 - application/json 139
2025-09-27 20:49:54.772 +03:00 [INF] Executing endpoint 'BookNest.Controllers.BookingsController.Add (BookNest)'
2025-09-27 20:49:54.777 +03:00 [INF] Route matched with {action = "Add", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookNest.Data.Booking]] Add(BookNest.Data.Booking, Int32) on controller BookNest.Controllers.BookingsController (BookNest).
2025-09-27 20:49:54.819 +03:00 [INF] Executing action method BookNest.Controllers.BookingsController.Add (BookNest) - Validation state: "Valid"
2025-09-27 20:49:54.862 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = Decimal), @p10='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Bookings` (`CabinId`, `CreatedAt`, `EndAt`, `HasBreakfast`, `IsPaid`, `NumGuests`, `NumNights`, `Observations`, `StartDate`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
SELECT `Id`
FROM `Bookings`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-09-27 20:49:54.887 +03:00 [INF] Executed action method BookNest.Controllers.BookingsController.Add (BookNest), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 67.7815ms.
2025-09-27 20:49:54.887 +03:00 [INF] Executing OkObjectResult, writing value of type 'BookNest.Data.Booking'.
2025-09-27 20:49:54.894 +03:00 [INF] Executed action BookNest.Controllers.BookingsController.Add (BookNest) in 116.7462ms
2025-09-27 20:49:54.894 +03:00 [INF] Executed endpoint 'BookNest.Controllers.BookingsController.Add (BookNest)'
2025-09-27 20:49:54.895 +03:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.10:5208/api/v1/bookings?cabinId=3 - 200 null application/json; charset=utf-8 134.0209ms
2025-09-27 20:49:54.899 +03:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.10:5208/api/v1/auth/refresh-token - application/json 2
2025-09-27 20:49:54.903 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-09-27 20:49:54.906 +03:00 [INF] Route matched with {action = "refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] refresh() on controller BookNest.Controllers.AuthController (BookNest).
2025-09-27 20:49:54.917 +03:00 [INF] Executing action method BookNest.Controllers.AuthController.refresh (BookNest) - Validation state: "Valid"
2025-09-27 20:49:54.925 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`Refresh_token` = @__token_0
LIMIT 2
2025-09-27 20:49:54.935 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Id` = @__userId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-09-27 20:49:54.945 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-09-27 20:49:54.948 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-09-27 20:49:54.950 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-09-27 20:49:54.952 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-09-27 20:49:54.954 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-09-27 20:49:54.962 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-09-27 20:49:54.967 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-09-27 20:49:54.969 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-09-27 20:49:54.972 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-09-27 20:49:54.972 +03:00 [INF] Executed action method BookNest.Controllers.AuthController.refresh (BookNest), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 54.9822ms.
2025-09-27 20:49:54.972 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-09-27 20:49:54.972 +03:00 [INF] Executed action BookNest.Controllers.AuthController.refresh (BookNest) in 66.7972ms
2025-09-27 20:49:54.973 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-09-27 20:49:54.973 +03:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.10:5208/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 73.6512ms
2025-09-27 20:50:19.178 +03:00 [INF] Application is shutting down...

2025-11-10 11:34:51.135 +03:00 [INF] User profile is available. Using '/Users/salah/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-11-10 11:34:51.223 +03:00 [INF] Now listening on: http://0.0.0.0:5208
2025-11-10 11:34:51.225 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 11:34:51.225 +03:00 [INF] Hosting environment: Development
2025-11-10 11:34:51.225 +03:00 [INF] Content root path: /Users/salah/Desktop/BookNest-Backend/server/BookNest
2025-11-10 11:34:54.528 +03:00 [INF] Request starting HTTP/1.1 GET http://0.0.0.0:5208/swagger - null null
2025-11-10 11:34:54.565 +03:00 [INF] Request finished HTTP/1.1 GET http://0.0.0.0:5208/swagger - 301 0 null 37.5676ms
2025-11-10 11:34:54.570 +03:00 [INF] Request starting HTTP/1.1 GET http://0.0.0.0:5208/swagger/index.html - null null
2025-11-10 11:34:54.611 +03:00 [INF] Request finished HTTP/1.1 GET http://0.0.0.0:5208/swagger/index.html - 200 null text/html;charset=utf-8 40.7817ms
2025-11-10 11:34:54.630 +03:00 [INF] Request starting HTTP/1.1 GET http://0.0.0.0:5208/swagger/swagger-ui.css - null null
2025-11-10 11:34:54.631 +03:00 [INF] Request starting HTTP/1.1 GET http://0.0.0.0:5208/swagger/swagger-ui-standalone-preset.js - null null
2025-11-10 11:34:54.631 +03:00 [INF] Request starting HTTP/1.1 GET http://0.0.0.0:5208/swagger/swagger-ui-bundle.js - null null
2025-11-10 11:34:54.631 +03:00 [INF] Request starting HTTP/1.1 GET http://0.0.0.0:5208/_framework/aspnetcore-browser-refresh.js - null null
2025-11-10 11:34:54.640 +03:00 [INF] Request finished HTTP/1.1 GET http://0.0.0.0:5208/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 8.7872ms
2025-11-10 11:34:54.659 +03:00 [INF] Request starting HTTP/1.1 GET http://0.0.0.0:5208/_framework/aspnetcore-browser-refresh.js - null null
2025-11-10 11:34:54.661 +03:00 [INF] Request finished HTTP/1.1 GET http://0.0.0.0:5208/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 2.2467ms
2025-11-10 11:34:54.681 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-11-10 11:34:54.683 +03:00 [INF] Request finished HTTP/1.1 GET http://0.0.0.0:5208/swagger/swagger-ui.css - 200 152034 text/css 53.3502ms
2025-11-10 11:34:54.684 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-11-10 11:34:54.684 +03:00 [INF] Request finished HTTP/1.1 GET http://0.0.0.0:5208/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 53.0964ms
2025-11-10 11:34:54.696 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-11-10 11:34:54.696 +03:00 [INF] Request finished HTTP/1.1 GET http://0.0.0.0:5208/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 65.4249ms
2025-11-10 11:34:54.707 +03:00 [INF] Request starting HTTP/1.1 GET http://0.0.0.0:5208/swagger/swagger-ui-standalone-preset.js - null null
2025-11-10 11:34:54.707 +03:00 [INF] Request starting HTTP/1.1 GET http://0.0.0.0:5208/swagger/swagger-ui-bundle.js - null null
2025-11-10 11:34:54.708 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-11-10 11:34:54.708 +03:00 [INF] Request finished HTTP/1.1 GET http://0.0.0.0:5208/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 0.6984ms
2025-11-10 11:34:54.712 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-11-10 11:34:54.712 +03:00 [INF] Request finished HTTP/1.1 GET http://0.0.0.0:5208/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 4.586ms
2025-11-10 11:34:54.839 +03:00 [INF] Request starting HTTP/1.1 GET http://0.0.0.0:5208/swagger/v1/swagger.json - null null
2025-11-10 11:34:54.844 +03:00 [INF] Request starting HTTP/1.1 GET http://0.0.0.0:5208/swagger/favicon-32x32.png - null null
2025-11-10 11:34:54.845 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-11-10 11:34:54.845 +03:00 [INF] Request finished HTTP/1.1 GET http://0.0.0.0:5208/swagger/favicon-32x32.png - 200 628 image/png 1.007ms
2025-11-10 11:34:54.899 +03:00 [INF] Request finished HTTP/1.1 GET http://0.0.0.0:5208/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.6352ms
2025-11-10 11:36:44.845 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - null null
2025-11-10 11:36:44.913 +03:00 [WRN] Failed to determine the https port for redirect.
2025-11-10 11:36:44.972 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:36:45.029 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 11:36:45.898 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 11:36:45.931 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:36:45.957 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 925.6455ms
2025-11-10 11:36:45.957 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:36:45.960 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - 200 null application/json; charset=utf-8 1116.6756ms
2025-11-10 11:37:10.781 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - null null
2025-11-10 11:37:10.791 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:37:10.792 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 11:37:10.911 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 11:37:10.913 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:37:10.914 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 121.0925ms
2025-11-10 11:37:10.914 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:37:10.914 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - 200 null application/json; charset=utf-8 133.62ms
2025-11-10 11:44:09.698 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/login - application/json 51
2025-11-10 11:44:09.725 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.Login (BookNest)'
2025-11-10 11:44:09.779 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] Login(BookNest.Models.users.AuthLogin) on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 11:44:10.247 +03:00 [INF] Executed DbCommand (106ms) [Parameters=[@__authLogin_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Email` = @__authLogin_Email_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 11:44:10.318 +03:00 [INF] Executed action BookNest.Controllers.AuthController.Login (BookNest) in 538.8234ms
2025-11-10 11:44:10.319 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.Login (BookNest)'
2025-11-10 11:44:10.319 +03:00 [ERR] Something went wrong on Path /api/v1/auth/login
BookNest.Exceptions.AppErrorResponse: Invalid username or password
   at BookNest.Repository.AuthManager.Login(AuthLogin authLogin) in /Users/salah/Desktop/BookNest-Backend/server/BookNest/Repository/AuthManager.cs:line 73
   at BookNest.Controllers.AuthController.Login(AuthLogin authLogin) in /Users/salah/Desktop/BookNest-Backend/server/BookNest/Controllers/AuthController.cs:line 23
   at lambda_method88(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in /Users/salah/Desktop/BookNest-Backend/server/BookNest/Program.cs:line 133
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookNest.MiddleWare.ExceptionMiddleWare.InvokeAsync(HttpContext _context) in /Users/salah/Desktop/BookNest-Backend/server/BookNest/MiddleWare/ExceptionMiddleWare.cs:line 21
2025-11-10 11:44:10.350 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/login - 404 null application/json; charset=utf-8 653.4979ms
2025-11-10 11:44:19.329 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/login - application/json 51
2025-11-10 11:44:19.341 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.Login (BookNest)'
2025-11-10 11:44:19.346 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] Login(BookNest.Models.users.AuthLogin) on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 11:44:19.384 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__authLogin_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Email` = @__authLogin_Email_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 11:44:19.451 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 11:44:19.461 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 11:44:19.474 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 11:44:19.475 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 11:44:19.489 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-11-10 11:44:19.567 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 11:44:19.584 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 11:44:19.588 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-11-10 11:44:19.595 +03:00 [INF] Executed action BookNest.Controllers.AuthController.Login (BookNest) in 248.3513ms
2025-11-10 11:44:19.595 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.Login (BookNest)'
2025-11-10 11:44:19.595 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/login - 200 null application/json; charset=utf-8 266.6353ms
2025-11-10 11:44:39.046 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins/1 - null null
2025-11-10 11:44:39.080 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:44:39.084 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookNest.Data.Cabin]] Get(Int32) on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 11:44:39.136 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-10 11:44:39.140 +03:00 [INF] Executing OkObjectResult, writing value of type 'BookNest.Data.Cabin'.
2025-11-10 11:44:39.141 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 56.612ms
2025-11-10 11:44:39.141 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:44:39.141 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins/1 - 200 null application/json; charset=utf-8 95.4255ms
2025-11-10 11:45:41.598 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5208/api/v1/bookings?cabinId=1 - application/json 62
2025-11-10 11:45:41.618 +03:00 [INF] Executing endpoint 'BookNest.Controllers.BookingsController.Add (BookNest)'
2025-11-10 11:45:41.622 +03:00 [INF] Route matched with {action = "Add", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookNest.Data.Booking]] Add(BookNest.Data.Booking, Int32) on controller BookNest.Controllers.BookingsController (BookNest).
2025-11-10 11:45:41.658 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-10 11:45:41.671 +03:00 [INF] Executed action BookNest.Controllers.BookingsController.Add (BookNest) in 48.7834ms
2025-11-10 11:45:41.671 +03:00 [INF] Executed endpoint 'BookNest.Controllers.BookingsController.Add (BookNest)'
2025-11-10 11:45:41.671 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5208/api/v1/bookings?cabinId=1 - 400 null application/problem+json; charset=utf-8 73.4215ms
2025-11-10 11:48:20.700 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - null null
2025-11-10 11:48:20.706 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - application/json 2
2025-11-10 11:48:20.706 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - application/json 2
2025-11-10 11:48:20.710 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - null null
2025-11-10 11:48:20.710 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins/1 - null null
2025-11-10 11:48:20.712 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:48:20.712 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:48:20.712 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:48:20.714 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 11:48:20.715 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookNest.Data.Cabin]] Get(Int32) on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 11:48:20.714 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 11:48:20.724 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 11:48:20.724 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 11:48:20.737 +03:00 [INF] Route matched with {action = "refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] refresh() on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 11:48:20.737 +03:00 [INF] Route matched with {action = "refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] refresh() on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 11:48:20.829 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 11:48:20.829 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 11:48:20.829 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-10 11:48:20.830 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:48:20.830 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:48:20.830 +03:00 [INF] Executing OkObjectResult, writing value of type 'BookNest.Data.Cabin'.
2025-11-10 11:48:20.830 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 115.3128ms
2025-11-10 11:48:20.830 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 115.2869ms
2025-11-10 11:48:20.830 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:48:20.830 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:48:20.830 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - 200 null application/json; charset=utf-8 130.9386ms
2025-11-10 11:48:20.830 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins/1 - 200 null application/json; charset=utf-8 120.538ms
2025-11-10 11:48:20.830 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 115.6943ms
2025-11-10 11:48:20.830 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:48:20.830 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - 200 null application/json; charset=utf-8 120.815ms
2025-11-10 11:48:20.836 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`Refresh_token` = @__token_0
LIMIT 2
2025-11-10 11:48:20.836 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`Refresh_token` = @__token_0
LIMIT 2
2025-11-10 11:48:20.860 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Id` = @__userId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 11:48:20.860 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Id` = @__userId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 11:48:20.866 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 11:48:20.866 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 11:48:20.867 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 11:48:20.867 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 11:48:20.869 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 11:48:20.869 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 11:48:20.870 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 11:48:20.870 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 11:48:20.871 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-11-10 11:48:20.871 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-11-10 11:48:20.899 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 11:48:20.899 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 11:48:20.904 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 11:48:20.904 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 11:48:20.908 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 11:48:20.908 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 11:48:20.912 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 11:48:20.912 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 11:48:20.914 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-11-10 11:48:20.914 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-11-10 11:48:20.914 +03:00 [INF] Executed action BookNest.Controllers.AuthController.refresh (BookNest) in 177.6812ms
2025-11-10 11:48:20.914 +03:00 [INF] Executed action BookNest.Controllers.AuthController.refresh (BookNest) in 177.7498ms
2025-11-10 11:48:20.914 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 11:48:20.915 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 11:48:20.915 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 208.7416ms
2025-11-10 11:48:20.915 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 208.7555ms
2025-11-10 11:48:31.529 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins/1 - null null
2025-11-10 11:48:31.536 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:48:31.536 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookNest.Data.Cabin]] Get(Int32) on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 11:48:31.567 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-10 11:48:31.570 +03:00 [INF] Executing OkObjectResult, writing value of type 'BookNest.Data.Cabin'.
2025-11-10 11:48:31.572 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 35.818ms
2025-11-10 11:48:31.572 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:48:31.573 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins/1 - 200 null application/json; charset=utf-8 44.0955ms
2025-11-10 11:48:44.167 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins/1 - null null
2025-11-10 11:48:44.167 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - null null
2025-11-10 11:48:44.173 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:48:44.173 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:48:44.173 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 11:48:44.173 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookNest.Data.Cabin]] Get(Int32) on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 11:48:44.194 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - application/json 2
2025-11-10 11:48:44.196 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 11:48:44.196 +03:00 [INF] Route matched with {action = "refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] refresh() on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 11:48:44.204 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 11:48:44.204 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-10 11:48:44.204 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:48:44.204 +03:00 [INF] Executing OkObjectResult, writing value of type 'BookNest.Data.Cabin'.
2025-11-10 11:48:44.205 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 31.2743ms
2025-11-10 11:48:44.205 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 31.3128ms
2025-11-10 11:48:44.205 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:48:44.205 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:48:44.205 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - 200 null application/json; charset=utf-8 37.69ms
2025-11-10 11:48:44.205 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins/1 - 200 null application/json; charset=utf-8 38.045ms
2025-11-10 11:48:44.211 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`Refresh_token` = @__token_0
LIMIT 2
2025-11-10 11:48:44.213 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Id` = @__userId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 11:48:44.218 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 11:48:44.220 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 11:48:44.222 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 11:48:44.222 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 11:48:44.223 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-11-10 11:48:44.227 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 11:48:44.229 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 11:48:44.230 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 11:48:44.232 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 11:48:44.234 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 11:48:44.237 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 11:48:44.238 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-11-10 11:48:44.238 +03:00 [INF] Executed action BookNest.Controllers.AuthController.refresh (BookNest) in 41.6024ms
2025-11-10 11:48:44.238 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 11:48:44.238 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 44.2176ms
2025-11-10 11:52:41.090 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - application/json 2
2025-11-10 11:52:41.092 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - null null
2025-11-10 11:52:41.096 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:52:41.097 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 11:52:41.097 +03:00 [INF] Route matched with {action = "refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] refresh() on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 11:52:41.097 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 11:52:41.139 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 11:52:41.139 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`Refresh_token` = @__token_0
LIMIT 2
2025-11-10 11:52:41.142 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:52:41.143 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 45.6112ms
2025-11-10 11:52:41.143 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:52:41.143 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - 200 null application/json; charset=utf-8 51.3955ms
2025-11-10 11:52:41.145 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Id` = @__userId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 11:52:41.147 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 11:52:41.148 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 11:52:41.150 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 11:52:41.151 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 11:52:41.152 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-11-10 11:52:41.157 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 11:52:41.159 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 11:52:41.163 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 11:52:41.164 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 11:52:41.165 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-11-10 11:52:41.165 +03:00 [INF] Executed action BookNest.Controllers.AuthController.refresh (BookNest) in 68.2592ms
2025-11-10 11:52:41.165 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 11:52:41.165 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 75.0954ms
2025-11-10 11:53:18.419 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins/4 - null null
2025-11-10 11:53:18.423 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:53:18.424 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookNest.Data.Cabin]] Get(Int32) on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 11:53:18.460 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-10 11:53:18.462 +03:00 [INF] Executing OkObjectResult, writing value of type 'BookNest.Data.Cabin'.
2025-11-10 11:53:18.462 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 37.3343ms
2025-11-10 11:53:18.462 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:53:18.462 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins/4 - 200 null application/json; charset=utf-8 43.0113ms
2025-11-10 11:55:26.110 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - application/json 2
2025-11-10 11:55:26.121 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 11:55:26.123 +03:00 [INF] Route matched with {action = "refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] refresh() on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 11:55:26.124 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - null null
2025-11-10 11:55:26.125 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:55:26.125 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 11:55:26.162 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 11:55:26.163 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`Refresh_token` = @__token_0
LIMIT 2
2025-11-10 11:55:26.163 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:55:26.163 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 38.0195ms
2025-11-10 11:55:26.163 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:55:26.164 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - 200 null application/json; charset=utf-8 39.7142ms
2025-11-10 11:55:26.184 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Id` = @__userId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 11:55:26.187 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 11:55:26.188 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 11:55:26.189 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 11:55:26.189 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 11:55:26.190 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-11-10 11:55:26.209 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 11:55:26.211 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 11:55:26.215 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 11:55:26.217 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 11:55:26.218 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-11-10 11:55:26.218 +03:00 [INF] Executed action BookNest.Controllers.AuthController.refresh (BookNest) in 94.9953ms
2025-11-10 11:55:26.218 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 11:55:26.218 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 108.4739ms
2025-11-10 11:55:32.113 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins/4 - null null
2025-11-10 11:55:32.124 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:55:32.126 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookNest.Data.Cabin]] Get(Int32) on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 11:55:32.158 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-10 11:55:32.159 +03:00 [INF] Executing OkObjectResult, writing value of type 'BookNest.Data.Cabin'.
2025-11-10 11:55:32.159 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 33.2633ms
2025-11-10 11:55:32.159 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:55:32.159 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins/4 - 200 null application/json; charset=utf-8 46.4345ms
2025-11-10 11:58:27.488 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - null null
2025-11-10 11:58:27.491 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:58:27.491 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - application/json 2
2025-11-10 11:58:27.491 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 11:58:27.491 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 11:58:27.491 +03:00 [INF] Route matched with {action = "refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] refresh() on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 11:58:27.517 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 11:58:27.517 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:58:27.517 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`Refresh_token` = @__token_0
LIMIT 2
2025-11-10 11:58:27.518 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 26.3777ms
2025-11-10 11:58:27.518 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:58:27.518 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - 200 null application/json; charset=utf-8 30.4316ms
2025-11-10 11:58:27.524 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Id` = @__userId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 11:58:27.527 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 11:58:27.528 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 11:58:27.529 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 11:58:27.530 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 11:58:27.531 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-11-10 11:58:27.548 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 11:58:27.550 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 11:58:27.554 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 11:58:27.556 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 11:58:27.556 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-11-10 11:58:27.557 +03:00 [INF] Executed action BookNest.Controllers.AuthController.refresh (BookNest) in 65.2517ms
2025-11-10 11:58:27.557 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 11:58:27.557 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 66.3017ms
2025-11-10 11:58:59.161 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins/4 - null null
2025-11-10 11:58:59.164 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:58:59.165 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookNest.Data.Cabin]] Get(Int32) on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 11:58:59.221 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-10 11:58:59.222 +03:00 [INF] Executing OkObjectResult, writing value of type 'BookNest.Data.Cabin'.
2025-11-10 11:58:59.222 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 52.2629ms
2025-11-10 11:58:59.222 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 11:58:59.222 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins/4 - 200 null application/json; charset=utf-8 61.4941ms
2025-11-10 12:04:57.289 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5208/api/v1/cabins - null null
2025-11-10 12:04:57.303 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:04:57.306 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 12:04:57.457 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 12:04:57.469 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:04:57.469 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 163.3619ms
2025-11-10 12:04:57.470 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:04:57.470 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5208/api/v1/cabins - 200 null application/json; charset=utf-8 181.4274ms
2025-11-10 12:04:57.564 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5208/favicon.ico - null null
2025-11-10 12:04:57.575 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5208/favicon.ico - 404 null application/json; charset=utf-8 10.8557ms
2025-11-10 12:04:57.580 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5208/favicon.ico, Response status code: 404
2025-11-10 12:08:11.188 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - application/json 2
2025-11-10 12:08:11.190 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - null null
2025-11-10 12:08:11.224 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:08:11.228 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:08:11.228 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 12:08:11.228 +03:00 [INF] Route matched with {action = "refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] refresh() on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 12:08:11.416 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 12:08:11.418 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:08:11.419 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`Refresh_token` = @__token_0
LIMIT 2
2025-11-10 12:08:11.420 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 190.5631ms
2025-11-10 12:08:11.420 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:08:11.420 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - 200 null application/json; charset=utf-8 230.0993ms
2025-11-10 12:08:11.454 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Id` = @__userId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 12:08:11.474 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:08:11.478 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:08:11.484 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:08:11.485 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:08:11.488 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-11-10 12:08:11.545 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:08:11.549 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:08:11.559 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:08:11.562 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:08:11.564 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-11-10 12:08:11.566 +03:00 [INF] Executed action BookNest.Controllers.AuthController.refresh (BookNest) in 337.2225ms
2025-11-10 12:08:11.566 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:08:11.567 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 381.0965ms
2025-11-10 12:08:21.223 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - null null
2025-11-10 12:08:21.226 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - application/json 2
2025-11-10 12:08:21.230 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:08:21.231 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:08:21.231 +03:00 [INF] Route matched with {action = "refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] refresh() on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 12:08:21.231 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 12:08:21.263 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 12:08:21.264 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`Refresh_token` = @__token_0
LIMIT 2
2025-11-10 12:08:21.264 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:08:21.265 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 34.1741ms
2025-11-10 12:08:21.265 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:08:21.266 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - 200 null application/json; charset=utf-8 43.147ms
2025-11-10 12:08:21.268 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Id` = @__userId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 12:08:21.273 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:08:21.275 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:08:21.275 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:08:21.276 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:08:21.277 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-11-10 12:08:21.281 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:08:21.282 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:08:21.284 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:08:21.285 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:08:21.286 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-11-10 12:08:21.287 +03:00 [INF] Executed action BookNest.Controllers.AuthController.refresh (BookNest) in 56.146ms
2025-11-10 12:08:21.287 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:08:21.287 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 61.411ms
2025-11-10 12:09:23.886 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5208/api/v1/cabins - null null
2025-11-10 12:09:23.894 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:09:23.895 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 12:09:23.933 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 12:09:23.937 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:09:23.941 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 46.1769ms
2025-11-10 12:09:23.941 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:09:23.942 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5208/api/v1/cabins - 200 null application/json; charset=utf-8 56.3655ms
2025-11-10 12:10:01.138 +03:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.12:5208/api/v1/cabins - null null
2025-11-10 12:10:01.142 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:10:01.143 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 12:10:01.179 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 12:10:01.179 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:10:01.180 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 36.6518ms
2025-11-10 12:10:01.180 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:10:01.180 +03:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.12:5208/api/v1/cabins - 200 null application/json; charset=utf-8 42.6511ms
2025-11-10 12:10:01.256 +03:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.12:5208/favicon.ico - null null
2025-11-10 12:10:01.257 +03:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.12:5208/favicon.ico - 404 null application/json; charset=utf-8 1.3706ms
2025-11-10 12:10:01.259 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://192.168.1.12:5208/favicon.ico, Response status code: 404
2025-11-10 12:10:10.285 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - null null
2025-11-10 12:10:10.291 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:10:10.292 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 12:10:10.323 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 12:10:10.324 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:10:10.325 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 32.3707ms
2025-11-10 12:10:10.325 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:10:10.325 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - 200 null application/json; charset=utf-8 40.293ms
2025-11-10 12:10:10.362 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - application/json 2
2025-11-10 12:10:10.362 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:10:10.362 +03:00 [INF] Route matched with {action = "refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] refresh() on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 12:10:10.378 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`Refresh_token` = @__token_0
LIMIT 2
2025-11-10 12:10:10.386 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Id` = @__userId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 12:10:10.389 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:10:10.390 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:10:10.391 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:10:10.391 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:10:10.392 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-11-10 12:10:10.398 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:10:10.399 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:10:10.402 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:10:10.405 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:10:10.407 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-11-10 12:10:10.409 +03:00 [INF] Executed action BookNest.Controllers.AuthController.refresh (BookNest) in 46.6593ms
2025-11-10 12:10:10.409 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:10:10.409 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 47.8499ms
2025-11-10 12:13:09.464 +03:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.12:5208/api/v1/cabins - null null
2025-11-10 12:13:09.469 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:13:09.471 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 12:13:09.504 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 12:13:09.506 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:13:09.506 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 34.744ms
2025-11-10 12:13:09.506 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:13:09.506 +03:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.12:5208/api/v1/cabins - 200 null application/json; charset=utf-8 42.3009ms
2025-11-10 12:13:09.580 +03:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.12:5208/favicon.ico - null null
2025-11-10 12:13:09.582 +03:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.12:5208/favicon.ico - 404 null application/json; charset=utf-8 2.2978ms
2025-11-10 12:13:09.582 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://192.168.1.12:5208/favicon.ico, Response status code: 404
2025-11-10 12:13:26.307 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - null null
2025-11-10 12:13:26.308 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - application/json 2
2025-11-10 12:13:26.315 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:13:26.320 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 12:13:26.320 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:13:26.320 +03:00 [INF] Route matched with {action = "refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] refresh() on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 12:13:26.370 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 12:13:26.372 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:13:26.373 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 53.2497ms
2025-11-10 12:13:26.373 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:13:26.373 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - 200 null application/json; charset=utf-8 66.8547ms
2025-11-10 12:13:26.379 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`Refresh_token` = @__token_0
LIMIT 2
2025-11-10 12:13:26.389 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Id` = @__userId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 12:13:26.392 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:13:26.394 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:13:26.396 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:13:26.397 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:13:26.399 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-11-10 12:13:26.408 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:13:26.410 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:13:26.414 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:13:26.451 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:13:26.454 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-11-10 12:13:26.456 +03:00 [INF] Executed action BookNest.Controllers.AuthController.refresh (BookNest) in 135.075ms
2025-11-10 12:13:26.456 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:13:26.456 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 148.4881ms
2025-11-10 12:13:32.304 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - null null
2025-11-10 12:13:32.307 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:13:32.307 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 12:13:32.330 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 12:13:32.330 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:13:32.331 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 23.06ms
2025-11-10 12:13:32.331 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:13:32.331 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - 200 null application/json; charset=utf-8 27.2107ms
2025-11-10 12:13:32.359 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - application/json 2
2025-11-10 12:13:32.360 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:13:32.360 +03:00 [INF] Route matched with {action = "refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] refresh() on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 12:13:32.373 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`Refresh_token` = @__token_0
LIMIT 2
2025-11-10 12:13:32.375 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Id` = @__userId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 12:13:32.378 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:13:32.379 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:13:32.381 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:13:32.381 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:13:32.383 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-11-10 12:13:32.386 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:13:32.390 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:13:32.393 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:13:32.395 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:13:32.396 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-11-10 12:13:32.396 +03:00 [INF] Executed action BookNest.Controllers.AuthController.refresh (BookNest) in 36.0815ms
2025-11-10 12:13:32.397 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:13:32.397 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 37.1503ms
2025-11-10 12:13:43.865 +03:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.12:5208/api/v1/cabins - null null
2025-11-10 12:13:43.866 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:13:43.867 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 12:13:43.894 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 12:13:43.895 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:13:43.896 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 28.8175ms
2025-11-10 12:13:43.896 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:13:43.896 +03:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.12:5208/api/v1/cabins - 200 null application/json; charset=utf-8 31.1473ms
2025-11-10 12:17:22.621 +03:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.12:5208/api/v1/auth/login - application/json 51
2025-11-10 12:17:22.628 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.Login (BookNest)'
2025-11-10 12:17:22.631 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] Login(BookNest.Models.users.AuthLogin) on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 12:17:22.704 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__authLogin_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Email` = @__authLogin_Email_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 12:17:22.747 +03:00 [INF] Executed action BookNest.Controllers.AuthController.Login (BookNest) in 116.1587ms
2025-11-10 12:17:22.748 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.Login (BookNest)'
2025-11-10 12:17:22.748 +03:00 [ERR] Something went wrong on Path /api/v1/auth/login
BookNest.Exceptions.AppErrorResponse: Invalid username or password
   at BookNest.Repository.AuthManager.Login(AuthLogin authLogin) in /Users/salah/Desktop/BookNest-Backend/server/BookNest/Repository/AuthManager.cs:line 73
   at BookNest.Controllers.AuthController.Login(AuthLogin authLogin) in /Users/salah/Desktop/BookNest-Backend/server/BookNest/Controllers/AuthController.cs:line 23
   at lambda_method88(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in /Users/salah/Desktop/BookNest-Backend/server/BookNest/Program.cs:line 133
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookNest.MiddleWare.ExceptionMiddleWare.InvokeAsync(HttpContext _context) in /Users/salah/Desktop/BookNest-Backend/server/BookNest/MiddleWare/ExceptionMiddleWare.cs:line 21
2025-11-10 12:17:22.768 +03:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.12:5208/api/v1/auth/login - 404 null application/json; charset=utf-8 147.2998ms
2025-11-10 12:17:30.290 +03:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.12:5208/api/v1/auth/login - application/json 51
2025-11-10 12:17:30.292 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.Login (BookNest)'
2025-11-10 12:17:30.293 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] Login(BookNest.Models.users.AuthLogin) on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 12:17:30.320 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__authLogin_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Email` = @__authLogin_Email_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 12:17:30.374 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:17:30.376 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:17:30.378 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:17:30.379 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:17:30.381 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-11-10 12:17:30.385 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:17:30.389 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:17:30.389 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-11-10 12:17:30.390 +03:00 [INF] Executed action BookNest.Controllers.AuthController.Login (BookNest) in 97.2896ms
2025-11-10 12:17:30.390 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.Login (BookNest)'
2025-11-10 12:17:30.390 +03:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.12:5208/api/v1/auth/login - 200 null application/json; charset=utf-8 100.2935ms
2025-11-10 12:17:33.969 +03:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.12:5208/api/v1/cabins/3 - null null
2025-11-10 12:17:33.972 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:17:33.972 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookNest.Data.Cabin]] Get(Int32) on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 12:17:34.004 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-10 12:17:34.005 +03:00 [INF] Executing OkObjectResult, writing value of type 'BookNest.Data.Cabin'.
2025-11-10 12:17:34.005 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 32.6649ms
2025-11-10 12:17:34.005 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:17:34.005 +03:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.12:5208/api/v1/cabins/3 - 200 null application/json; charset=utf-8 35.7317ms
2025-11-10 12:18:35.922 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins/2 - null null
2025-11-10 12:18:35.930 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:18:35.931 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookNest.Data.Cabin]] Get(Int32) on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 12:18:35.981 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-10 12:18:35.982 +03:00 [INF] Executing OkObjectResult, writing value of type 'BookNest.Data.Cabin'.
2025-11-10 12:18:35.983 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 51.3167ms
2025-11-10 12:18:35.983 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:18:35.983 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins/2 - 200 null application/json; charset=utf-8 61.209ms
2025-11-10 12:35:30.626 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - null null
2025-11-10 12:35:30.626 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - application/json 2
2025-11-10 12:35:30.690 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:35:30.694 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 12:35:30.697 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:35:30.698 +03:00 [INF] Route matched with {action = "refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] refresh() on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 12:35:30.858 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 12:35:30.858 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`Refresh_token` = @__token_0
LIMIT 2
2025-11-10 12:35:30.861 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:35:30.863 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 169.1058ms
2025-11-10 12:35:30.863 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:35:30.863 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - 200 null application/json; charset=utf-8 242.5575ms
2025-11-10 12:35:30.878 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Id` = @__userId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 12:35:30.888 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:35:30.889 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:35:30.891 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:35:30.894 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:35:30.895 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-11-10 12:35:30.916 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:35:30.919 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:35:30.923 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:35:30.925 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:35:30.927 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-11-10 12:35:30.928 +03:00 [INF] Executed action BookNest.Controllers.AuthController.refresh (BookNest) in 229.0754ms
2025-11-10 12:35:30.928 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:35:30.928 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 307.4572ms
2025-11-10 12:36:30.566 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins/4 - null null
2025-11-10 12:36:30.572 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:36:30.573 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookNest.Data.Cabin]] Get(Int32) on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 12:36:30.710 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-10 12:36:30.713 +03:00 [INF] Executing OkObjectResult, writing value of type 'BookNest.Data.Cabin'.
2025-11-10 12:36:30.714 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 140.2287ms
2025-11-10 12:36:30.714 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:36:30.714 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins/4 - 200 null application/json; charset=utf-8 148.1489ms
2025-11-10 12:37:03.854 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5208/api/v1/bookings?cabinId=4 - application/json 139
2025-11-10 12:37:03.858 +03:00 [INF] Executing endpoint 'BookNest.Controllers.BookingsController.Add (BookNest)'
2025-11-10 12:37:03.859 +03:00 [INF] Route matched with {action = "Add", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookNest.Data.Booking]] Add(BookNest.Data.Booking, Int32) on controller BookNest.Controllers.BookingsController (BookNest).
2025-11-10 12:37:03.926 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-10 12:37:03.929 +03:00 [INF] Executed action BookNest.Controllers.BookingsController.Add (BookNest) in 70.2558ms
2025-11-10 12:37:03.929 +03:00 [INF] Executed endpoint 'BookNest.Controllers.BookingsController.Add (BookNest)'
2025-11-10 12:37:03.930 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5208/api/v1/bookings?cabinId=4 - 400 null application/problem+json; charset=utf-8 76.1217ms
2025-11-10 12:37:08.231 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5208/api/v1/bookings?cabinId=4 - application/json 139
2025-11-10 12:37:08.232 +03:00 [INF] Executing endpoint 'BookNest.Controllers.BookingsController.Add (BookNest)'
2025-11-10 12:37:08.232 +03:00 [INF] Route matched with {action = "Add", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookNest.Data.Booking]] Add(BookNest.Data.Booking, Int32) on controller BookNest.Controllers.BookingsController (BookNest).
2025-11-10 12:37:08.321 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = Decimal), @p10='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Bookings` (`CabinId`, `CreatedAt`, `EndAt`, `HasBreakfast`, `IsPaid`, `NumGuests`, `NumNights`, `Observations`, `StartDate`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
SELECT `Id`
FROM `Bookings`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-10 12:37:08.337 +03:00 [INF] Executing OkObjectResult, writing value of type 'BookNest.Data.Booking'.
2025-11-10 12:37:08.338 +03:00 [INF] Executed action BookNest.Controllers.BookingsController.Add (BookNest) in 106.1674ms
2025-11-10 12:37:08.338 +03:00 [INF] Executed endpoint 'BookNest.Controllers.BookingsController.Add (BookNest)'
2025-11-10 12:37:08.338 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5208/api/v1/bookings?cabinId=4 - 200 null application/json; charset=utf-8 107.4387ms
2025-11-10 12:37:08.347 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - application/json 2
2025-11-10 12:37:08.348 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:37:08.348 +03:00 [INF] Route matched with {action = "refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] refresh() on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 12:37:08.360 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`Refresh_token` = @__token_0
LIMIT 2
2025-11-10 12:37:08.370 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Id` = @__userId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 12:37:08.374 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:37:08.374 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:37:08.375 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:37:08.376 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:37:08.378 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-11-10 12:37:08.381 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:37:08.382 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:37:08.385 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:37:08.386 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:37:08.387 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-11-10 12:37:08.387 +03:00 [INF] Executed action BookNest.Controllers.AuthController.refresh (BookNest) in 39.328ms
2025-11-10 12:37:08.387 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:37:08.387 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 40.39ms
2025-11-10 12:37:32.235 +03:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.12:5208/api/v1/cabins - null null
2025-11-10 12:37:32.243 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:37:32.243 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 12:37:32.249 +03:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.12:5208/api/v1/auth/refresh-token - application/json 2
2025-11-10 12:37:32.251 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:37:32.251 +03:00 [INF] Route matched with {action = "refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] refresh() on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 12:37:32.286 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 12:37:32.287 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:37:32.287 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 43.9591ms
2025-11-10 12:37:32.287 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:37:32.287 +03:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.12:5208/api/v1/cabins - 200 null application/json; charset=utf-8 52.2724ms
2025-11-10 12:37:32.291 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`Refresh_token` = @__token_0
LIMIT 2
2025-11-10 12:37:32.296 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Id` = @__userId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 12:37:32.298 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:37:32.299 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:37:32.305 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:37:32.306 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:37:32.308 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-11-10 12:37:32.312 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:37:32.313 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:37:32.319 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:37:32.322 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:37:32.323 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-11-10 12:37:32.324 +03:00 [INF] Executed action BookNest.Controllers.AuthController.refresh (BookNest) in 72.1981ms
2025-11-10 12:37:32.324 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:37:32.324 +03:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.12:5208/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 74.5578ms
2025-11-10 12:37:43.542 +03:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.12:5208/api/v1/cabins/4 - null null
2025-11-10 12:37:43.544 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:37:43.545 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookNest.Data.Cabin]] Get(Int32) on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 12:37:43.575 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-10 12:37:43.575 +03:00 [INF] Executing OkObjectResult, writing value of type 'BookNest.Data.Cabin'.
2025-11-10 12:37:43.576 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 30.7218ms
2025-11-10 12:37:43.576 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:37:43.576 +03:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.12:5208/api/v1/cabins/4 - 200 null application/json; charset=utf-8 34.2509ms
2025-11-10 12:38:31.169 +03:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.12:5208/api/v1/bookings?cabinId=4 - application/json 139
2025-11-10 12:38:31.175 +03:00 [INF] Executing endpoint 'BookNest.Controllers.BookingsController.Add (BookNest)'
2025-11-10 12:38:31.175 +03:00 [INF] Route matched with {action = "Add", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookNest.Data.Booking]] Add(BookNest.Data.Booking, Int32) on controller BookNest.Controllers.BookingsController (BookNest).
2025-11-10 12:38:31.218 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = Decimal), @p10='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Bookings` (`CabinId`, `CreatedAt`, `EndAt`, `HasBreakfast`, `IsPaid`, `NumGuests`, `NumNights`, `Observations`, `StartDate`, `TotalPrice`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
SELECT `Id`
FROM `Bookings`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-10 12:38:31.221 +03:00 [INF] Executing OkObjectResult, writing value of type 'BookNest.Data.Booking'.
2025-11-10 12:38:31.223 +03:00 [INF] Executed action BookNest.Controllers.BookingsController.Add (BookNest) in 47.7966ms
2025-11-10 12:38:31.223 +03:00 [INF] Executed endpoint 'BookNest.Controllers.BookingsController.Add (BookNest)'
2025-11-10 12:38:31.223 +03:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.12:5208/api/v1/bookings?cabinId=4 - 200 null application/json; charset=utf-8 54.6853ms
2025-11-10 12:38:31.241 +03:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.12:5208/api/v1/auth/refresh-token - application/json 2
2025-11-10 12:38:31.241 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:38:31.241 +03:00 [INF] Route matched with {action = "refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] refresh() on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 12:38:31.257 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`Refresh_token` = @__token_0
LIMIT 2
2025-11-10 12:38:31.263 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Id` = @__userId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 12:38:31.264 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:38:31.265 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:38:31.266 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:38:31.267 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:38:31.268 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-11-10 12:38:31.270 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:38:31.272 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:38:31.274 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:38:31.277 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:38:31.277 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-11-10 12:38:31.278 +03:00 [INF] Executed action BookNest.Controllers.AuthController.refresh (BookNest) in 36.6507ms
2025-11-10 12:38:31.278 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:38:31.278 +03:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.12:5208/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 37.238ms
2025-11-10 12:38:51.242 +03:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.12:5208/api/v1/cabins - null null
2025-11-10 12:38:51.242 +03:00 [INF] Request starting HTTP/1.1 POST http://192.168.1.12:5208/api/v1/auth/refresh-token - application/json 2
2025-11-10 12:38:51.250 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:38:51.251 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:38:51.251 +03:00 [INF] Route matched with {action = "refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] refresh() on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 12:38:51.251 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 12:38:51.289 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`Refresh_token` = @__token_0
LIMIT 2
2025-11-10 12:38:51.289 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 12:38:51.290 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:38:51.290 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 38.6001ms
2025-11-10 12:38:51.290 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:38:51.290 +03:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.12:5208/api/v1/cabins - 200 null application/json; charset=utf-8 48.3225ms
2025-11-10 12:38:51.291 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Id` = @__userId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 12:38:51.292 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:38:51.293 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:38:51.294 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:38:51.294 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:38:51.300 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-11-10 12:38:51.305 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:38:51.307 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:38:51.311 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:38:51.313 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:38:51.314 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-11-10 12:38:51.314 +03:00 [INF] Executed action BookNest.Controllers.AuthController.refresh (BookNest) in 62.8222ms
2025-11-10 12:38:51.314 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:38:51.314 +03:00 [INF] Request finished HTTP/1.1 POST http://192.168.1.12:5208/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 72.5126ms
2025-11-10 12:38:55.472 +03:00 [INF] Request starting HTTP/1.1 GET http://192.168.1.12:5208/api/v1/cabins/3 - null null
2025-11-10 12:38:55.474 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:38:55.475 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookNest.Data.Cabin]] Get(Int32) on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 12:38:55.496 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-10 12:38:55.497 +03:00 [INF] Executing OkObjectResult, writing value of type 'BookNest.Data.Cabin'.
2025-11-10 12:38:55.497 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 22.1764ms
2025-11-10 12:38:55.497 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:38:55.497 +03:00 [INF] Request finished HTTP/1.1 GET http://192.168.1.12:5208/api/v1/cabins/3 - 200 null application/json; charset=utf-8 25.1482ms
2025-11-10 12:40:46.516 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - null null
2025-11-10 12:40:46.529 +03:00 [INF] Executing endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:40:46.530 +03:00 [INF] Route matched with {action = "Get", controller = "Cabins"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BookNest.Data.Cabin]]] Get() on controller BookNest.Controllers.CabinsController (BookNest).
2025-11-10 12:40:46.535 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - application/json 2
2025-11-10 12:40:46.536 +03:00 [INF] Executing endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:40:46.536 +03:00 [INF] Route matched with {action = "refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[BookNest.Models.users.AuthResponse] refresh() on controller BookNest.Controllers.AuthController (BookNest).
2025-11-10 12:40:46.590 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
FROM `Cabins` AS `c`
2025-11-10 12:40:46.590 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`Refresh_token` = @__token_0
LIMIT 2
2025-11-10 12:40:46.590 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookNest.Data.Cabin, BookNest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:40:46.591 +03:00 [INF] Executed action BookNest.Controllers.CabinsController.Get (BookNest) in 60.7006ms
2025-11-10 12:40:46.591 +03:00 [INF] Executed endpoint 'BookNest.Controllers.CabinsController.Get (BookNest)'
2025-11-10 12:40:46.591 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5208/api/v1/cabins - 200 null application/json; charset=utf-8 74.9883ms
2025-11-10 12:40:46.597 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`createdAt`, `t`.`firstName`, `t`.`lastName`, `t0`.`Id`, `t0`.`CabinId`, `t0`.`CreatedAt`, `t0`.`EndAt`, `t0`.`HasBreakfast`, `t0`.`IsPaid`, `t0`.`NumGuests`, `t0`.`NumNights`, `t0`.`Observations`, `t0`.`StartDate`, `t0`.`TotalPrice`, `t0`.`UserId`, `t0`.`Id0`, `t0`.`Description`, `t0`.`Discount`, `t0`.`Image`, `t0`.`MaxCapacity`, `t0`.`Name`, `t0`.`RegularPrice`
FROM (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`createdAt`, `a`.`firstName`, `a`.`lastName`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Id` = @__userId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `b`.`Id`, `b`.`CabinId`, `b`.`CreatedAt`, `b`.`EndAt`, `b`.`HasBreakfast`, `b`.`IsPaid`, `b`.`NumGuests`, `b`.`NumNights`, `b`.`Observations`, `b`.`StartDate`, `b`.`TotalPrice`, `b`.`UserId`, `c`.`Id` AS `Id0`, `c`.`Description`, `c`.`Discount`, `c`.`Image`, `c`.`MaxCapacity`, `c`.`Name`, `c`.`RegularPrice`
    FROM `Bookings` AS `b`
    INNER JOIN `Cabins` AS `c` ON `b`.`CabinId` = `c`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`UserId`
ORDER BY `t`.`Id`, `t0`.`Id`
2025-11-10 12:40:46.600 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:40:46.601 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:40:46.602 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-10 12:40:46.602 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-10 12:40:46.603 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__deviceId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id`, `t`.`Access_token`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expire`, `t`.`Refresh_token`, `t`.`Revoke`, `t`.`Token_type`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE (((`t`.`UserId` = @__userId_0) AND (`t`.`DeviceId` = @__deviceId_1)) AND NOT (`t`.`Expire`)) AND NOT (`t`.`Revoke`)
2025-11-10 12:40:46.608 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:40:46.610 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Tokens` SET `Access_token` = @p0, `CreatedAt` = @p1, `DeviceId` = @p2, `Expire` = @p3, `Refresh_token` = @p4, `Revoke` = @p5, `Token_type` = @p6, `UserId` = @p7
WHERE `id` = @p8;
SELECT ROW_COUNT();
2025-11-10 12:40:46.612 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:40:46.615 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`Access_token`, `CreatedAt`, `DeviceId`, `Expire`, `Refresh_token`, `Revoke`, `Token_type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();
2025-11-10 12:40:46.615 +03:00 [INF] Executing ObjectResult, writing value of type 'BookNest.Models.users.AuthResponse'.
2025-11-10 12:40:46.616 +03:00 [INF] Executed action BookNest.Controllers.AuthController.refresh (BookNest) in 79.7464ms
2025-11-10 12:40:46.616 +03:00 [INF] Executed endpoint 'BookNest.Controllers.AuthController.refresh (BookNest)'
2025-11-10 12:40:46.616 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5208/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 80.7251ms
2025-11-10 12:43:23.289 +03:00 [INF] Application is shutting down...
